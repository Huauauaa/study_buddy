{% extends 'main.html' %} {% block content %}
<div class="row">
  <div class="col-2">
    <ul class="nav flex-column">
      <li class="nav-item">
        <a href="{% url 'home' %}" class="nav-link">ALL</a>
      </li>
      {% for topic in topics%}

      <li class="nav-item">
        <a href="{% url 'home' %}?topic_name={{topic.name}}" class="nav-link">
          {{topic.name}}
        </a>
      </li>

      {%endfor%}
    </ul>
  </div>
  <div class="col-10">
    <a href="{% url 'create_room' %}" class="btn btn-primary">Create Room</a>
    <div class="alert alert-info" role="alert">
      {{room_count}} room(s) is avilable.
    </div>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Topic</th>
          <th scope="col">Handler</th>
        </tr>
      </thead>
      <tbody>
        {% for room in rooms %}

        <tr>
          <th scope="row">{{room.id}}</th>
          <td>
            <a href="{% url 'room' room.id %}" class="btn btn-link">
              {{room.name}}
            </a>
          </td>
          <td>{{room.topic.name}}</td>
          <td>
            <a
              href="{% url 'update_room' room.id%}"
              class="btn btn-outline-primary btn-sm"
            >
              <i class="bi-pen" role="img" aria-label="edit"></i>
            </a>
            <a
              href="{% url 'delete_room' room.id%}"
              class="btn btn-outline-danger btn-sm"
            >
              <i class="bi-x-lg" role="img" aria-label="delete"></i>
            </a>
          </td>
        </tr>

        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
